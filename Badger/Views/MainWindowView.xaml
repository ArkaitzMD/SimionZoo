<Window x:Class="Badger.Views.MainWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Badger.ViewModels"
        xmlns:cal="http://www.caliburnproject.org"
        xmlns:v="clr-namespace:Badger.Views"
        WindowStyle="ThreeDBorderWindow"
        Width="800"
        Height="600"
        Title="Badger"
        Icon="/badger-head.ico">

    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:ExperimentViewModel}">
            <v:ExperimentView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:StatsViewModel}">
            <v:StatsView/>
        </DataTemplate>

        <BitmapImage x:Key="stop" UriSource="/images/stop.png" />
        <BitmapImage x:Key="herdagent-head" UriSource="/images/herdagent-head.png" />
    </Window.Resources>

    <DockPanel>
        <WrapPanel DockPanel.Dock="Top" MinHeight="48" Width="Auto" Background="#EEEEEE">
            <WrapPanel Margin="5,4">
                <Button Style="{StaticResource BadgerButtonStyle}" ToolTip="New Experiment"
                        Width="40" Height="40" cal:Message.Attach="[Event Click]=[Action NewExperiment()]">
                    <Image Source="{StaticResource New}" Opacity="0.6" Width="24" Height="24" />
                </Button>
                <Button Style="{StaticResource BadgerButtonStyle}" ToolTip="Save Experiment"
                        Height="40" Width="40" IsEnabled="{Binding Path=bIsExperimentListNotEmpty}"
                        cal:Message.Attach="[Event Click]=[Action SaveSelectedExperiment()]">
                    <Image Source="{StaticResource Save}" Opacity="0.6" Width="24" Height="24" />
                </Button>
                <Button Style="{StaticResource BadgerButtonStyle}" ToolTip="Save All Experiments"
                        Height="40" Width="40" IsEnabled="{Binding Path=bIsExperimentListNotEmpty}"
                        cal:Message.Attach="[Event Click]=[Action SaveAllExperiments()]">
                    <Image Source="{StaticResource SaveAll}" Opacity="0.6" Width="24" Height="24" />
                </Button>
                <Button Style="{StaticResource BadgerButtonStyle}" ToolTip="Open Experiment"
                        Width="40" Height="40" cal:Message.Attach="[Event Click]=[Action LoadExperiment()]">
                    <Image Source="{StaticResource Open}" Opacity="0.6" Width="24" Height="24"/>
                </Button>
                <Button Style="{StaticResource BadgerButtonStyle}"  ToolTip="Open Set of Experiments"
                        Width="40" Height="40" cal:Message.Attach="[Event Click]=[Action LoadExperiments()]">
                    <Image Source="{StaticResource OpenProject}" Opacity="0.6" Width="24" Height="24" />
                </Button>

                <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" Margin="4" />

                <!--Label VerticalAlignment="Center">App</-->
                <ComboBox x:Name="appNames" MinWidth="120" HorizontalAlignment="Center" VerticalAlignment="Center"
                      ToolTip="Apps" Margin="5,0" Height="26" SelectedItem="{Binding selectedAppName}" />
                <ComboBox x:Name="LaunchMode" MinWidth="140" HorizontalAlignment="Center" VerticalAlignment="Center"
                      ToolTip="Launch Modes" Margin="5,0" Height="26" SelectedItem="{Binding SelectedLaunchMode}" />

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Style="{StaticResource BadgerButtonStyle}" Width="Auto" Height="40"
                        IsEnabled="{Binding Path = CanLaunchExperiment}" ToolTip="Run Experiments"
                        cal:Message.Attach="[Event Click]=[Action RunExperiments()]">
                        <StackPanel Orientation="Horizontal">
                            <Image Width="24" Height="24" Margin="2,0" Source="{StaticResource Play}" />
                            <Label Padding="0,4,7,4">Launch</Label>
                        </StackPanel>
                    </Button>
                    <!--Button Width="100" Height="30" Margin="5"
                         IsEnabled="{Binding Path = IsExperimentRunning}"
                         x:Name="StopExperiments" VerticalAlignment="Top"
                            ToolTip="Stop experiments in queue">
                    <StackPanel Orientation="Horizontal">
                        <Label Margin="0,0,5,0">STOP</Label>
                        <Image Width="20" Height="20" Source="{StaticResource stop}"></Image>
                    </StackPanel>
                </Button-->
                    <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" Margin="4" />

                    <Button Style="{StaticResource BadgerButtonStyle}" Width="Auto" Height="40"
                        cal:Message.Attach="[Event Click]=[Action ShowReportsWindow()]"
                        ToolTip="Generate reports from stored experiment results">
                        <StackPanel Orientation="Horizontal" Margin="4,0">
                            <Image Opacity="0.6" Width="22" Height="22" Source="{StaticResource Plot}" />
                            <Label Padding="4,3">Reports</Label>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </WrapPanel>
        </WrapPanel>

        <Grid Background="#FAFAFA">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" MinWidth="15" />
                <ColumnDefinition Width="4" />
                <ColumnDefinition Width="5*" MinWidth="40" />
                <!--ColumnDefinition Width="4" />
                    <ColumnDefinition Width="3*" MinWidth="400"/-->
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"
                        HorizontalAlignment="Center" Orientation="Horizontal" >
                <Image Width="25" Height="25" Margin="5" Source="{StaticResource herdagent-head}"/>
                <Label FontWeight="Medium" VerticalAlignment="Center">Herd Agents</Label>
            </StackPanel>

            <Border Grid.Row="1" Grid.Column="0" BorderThickness="1" Margin="5,0,0,5" BorderBrush="#BDBDBD" >
                <ContentControl x:Name="shepherdViewModel" />
            </Border>

            <GridSplitter Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" Width="4" Background="#FAFAFA"
                          x:Name="gridSplitter" HorizontalAlignment="Stretch" />

            <StackPanel Grid.Row="0" Grid.Column="2" VerticalAlignment="Center" >
                <Label Content="Experiment Editor" FontWeight="Medium"
                        VerticalContentAlignment="Center" HorizontalAlignment="Center" />
            </StackPanel>

            <TabControl Grid.Row="1" Grid.Column="2" x:Name="ExperimentViewModels" Margin="0,0,5,5"
                        Padding="0" SelectedItem="{Binding Path = selectedExperiment}">
                <TabControl.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" >
                            <Label Content="{Binding Path=name,Mode=TwoWay}" BorderBrush="Transparent"
                                   VerticalAlignment="Center"/>
                            <Label Content="{Binding Path=numForkCombinations}" VerticalAlignment="Center"/>
                            <Button Style="{StaticResource BadgerButtonStyle}" Width="18" Height="18"
                                    cal:Message.Attach="[Event Click]=[Action close()]">
                                <Image Source="{StaticResource Close}" Height="16" Width="16" />
                            </Button>
                        </StackPanel>
                    </DataTemplate>
                </TabControl.ItemTemplate>
            </TabControl>

            <!--GridSplitter Grid.Row="0" Grid.Column="3" Grid.RowSpan="2" Width="4"
                              x:Name="gridSplitter2" HorizontalAlignment="Stretch" />
                
                <StackPanel Grid.Row="0" Grid.Column="4" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Label Content="Experiment Monitor" FontSize="14" FontWeight="Medium" VerticalAlignment="Center"/>
                </StackPanel>

                <Border Grid.Row="1" Grid.Column="4" BorderThickness="1" BorderBrush="#BDBDBD" >
                    <ContentControl  x:Name="monitorWindowViewModel" />
                </Border-->
        </Grid>
    </DockPanel>
</Window>
