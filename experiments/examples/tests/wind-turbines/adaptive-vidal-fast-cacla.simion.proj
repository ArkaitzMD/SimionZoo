<BADGER-PROJECT FileVersion="1.0.0.0">
  <EXPERIMENT Name="adaptive-vidal-2mass">
    <RLSimion FileVersion="1.0.0.0">
    <RLSimion>
      <Log>
        <Num-Functions-Logged>10</Num-Functions-Logged>
        <Log-Freq>0.25</Log-Freq>
        <Log-Eval-Episodes>true</Log-Eval-Episodes>
        <Log-Training-Episodes>false</Log-Training-Episodes>
        <Log-Functions>true</Log-Functions>
      </Log>
      <World>
        <Num-Integration-Steps>4</Num-Integration-Steps>
        <Delta-T>0.01</Delta-T>
        <Dynamic-Model>
          <Model>
            <Wind-turbine>
              <Evaluation-Wind-Data>../config/world/wind-turbine/TurbSim-17.hh</Evaluation-Wind-Data>
              <Power-Set-Point>../config/world/wind-turbine/power-setpoint.txt</Power-Set-Point>
              <Training-Wind-Data>
                <Training-Wind-Data>../config/world/wind-turbine/TurbSim-14.hh</Training-Wind-Data>
              </Training-Wind-Data>
              <Training-Wind-Data>
                <Training-Wind-Data>../config/world/wind-turbine/TurbSim-15.hh</Training-Wind-Data>
              </Training-Wind-Data>
              <Training-Wind-Data>
                <Training-Wind-Data>../config/world/wind-turbine/TurbSim-16.hh</Training-Wind-Data>
              </Training-Wind-Data>
              <Training-Wind-Data>
                <Training-Wind-Data>../config/world/wind-turbine/TurbSim-18.hh</Training-Wind-Data>
              </Training-Wind-Data>
              <Training-Wind-Data>
                <Training-Wind-Data>../config/world/wind-turbine/TurbSim-19.hh</Training-Wind-Data>
              </Training-Wind-Data>
              <Training-Wind-Data>
                <Training-Wind-Data>../config/world/wind-turbine/TurbSim-20.hh</Training-Wind-Data>
              </Training-Wind-Data>
            </Wind-turbine>
            </Model>
        </Dynamic-Model>
      </World>
      <Experiment>
        <Random-Seed>1</Random-Seed>
        <Num-Episodes>1000</Num-Episodes>
        <Eval-Freq>50</Eval-Freq>
        <Progress-Update-Freq>1.0</Progress-Update-Freq>
        <Episode-Length>300.0</Episode-Length>
      </Experiment>
      <SimGod>
        <Target-Function-Update-Freq>100</Target-Function-Update-Freq>
        <Gamma>0.9</Gamma>
        <Freeze-Target-Function>true</Freeze-Target-Function>
        <Use-Importance-Weights>false</Use-Importance-Weights>
        <State-Feature-Map>
          <Input-State>
            <Input-State>v</Input-State>
          </Input-State>
          <Input-State>
            <Input-State>T_g</Input-State>
          </Input-State>
          <Num-Features-Per-Dimension>20</Num-Features-Per-Dimension>
          <Feature-Mapper>
            <Type>
              <Gaussian-RBF-Grid>
              </Gaussian-RBF-Grid>
              </Type>
          </Feature-Mapper>
        </State-Feature-Map>
        <Experience-Replay>
          <Buffer-Size>1000</Buffer-Size>
          <Update-Batch-Size>10</Update-Batch-Size>
        </Experience-Replay>
        <Simion>
          <Type>
            <Actor-Critic>
              <Actor>
                <Output>
                  <Policy-Learner>
                    <CACLA>
                      <Alpha>
                        <Schedule>
                          <Simple-Linear-Decay>
                            <Initial-Value>0.0001</Initial-Value>
                            <End-Value>0.0</End-Value>
                          </Simple-Linear-Decay>
                          </Schedule>
                      </Alpha>
                      <Policy>
                        <Policy>
                          <Deterministic-Policy-Gaussian-Noise>
                            <Output-Action><Wire>wire-A</Wire></Output-Action>
                            <Deterministic-Policy-VFA>
                              <Init-Value>0.1</Init-Value>
                            </Deterministic-Policy-VFA>
                            <Exploration-Noise>
                              <Noise>
                                <Ornstein-Uhlenbeck>
                                  <Mu>0.0</Mu>
                                  <Sigma>1.0</Sigma>
                                  <Theta>0.1</Theta>
                                  <Scale>
                                    <Schedule>
                                      <Simple-Linear-Decay>
                                        <FORKED-NODE Name="Initial-Value" Alias="A-Noise-Init">
                                          <FORK-VALUE Name="Value-0">
                                          	<Initial-Value>0.1</Initial-Value>
                                          </FORK-VALUE>
                                          <FORK-VALUE Name="Value-1">
                                          	<Initial-Value>0.25</Initial-Value>
                                          </FORK-VALUE>
                                          <FORK-VALUE Name="Value-2">
                                          	<Initial-Value>0.5</Initial-Value>
                                          </FORK-VALUE>
                                        </FORKED-NODE>
                                        <End-Value>0.0</End-Value>
                                      </Simple-Linear-Decay>
                                      </Schedule>
                                  </Scale>
                                </Ornstein-Uhlenbeck>
                                </Noise>
                            </Exploration-Noise>
                          </Deterministic-Policy-Gaussian-Noise>
                          </Policy>
                      </Policy>
                    </CACLA>
                    </Policy-Learner>
                </Output>
                <Output>
                  <Policy-Learner>
                    <CACLA>
                      <Alpha>
                        <Schedule>
                          <Simple-Linear-Decay>
                            <Initial-Value>0.0001</Initial-Value>
                            <End-Value>0.0</End-Value>
                          </Simple-Linear-Decay>
                          </Schedule>
                      </Alpha>
                      <Policy>
                        <Policy>
                          <Deterministic-Policy-Gaussian-Noise>
                            <Output-Action><Wire>wire-K_alpha</Wire></Output-Action>
                            <Deterministic-Policy-VFA>
                              <Init-Value>50000</Init-Value>
                            </Deterministic-Policy-VFA>
                            <Exploration-Noise>
                              <Noise>
                                <Ornstein-Uhlenbeck>
                                  <Mu>0.0</Mu>
                                  <Sigma>1.0</Sigma>
                                  <Theta>0.1</Theta>
                                  <Scale>
                                    <Schedule>
                                      <Simple-Linear-Decay>
                                        <FORKED-NODE Name="Initial-Value" Alias="K_alpha-Noise-Init">
                                          <FORK-VALUE Name="Value-0">
                                          	<Initial-Value>1000</Initial-Value>
                                          </FORK-VALUE>
                                          <FORK-VALUE Name="Value-1">
                                          	<Initial-Value>10000</Initial-Value>
                                          </FORK-VALUE>
                                          <FORK-VALUE Name="Value-2">
                                          	<Initial-Value>100000</Initial-Value>
                                          </FORK-VALUE>
                                        </FORKED-NODE>
                                        <End-Value>0.0</End-Value>
                                      </Simple-Linear-Decay>
                                      </Schedule>
                                  </Scale>
                                </Ornstein-Uhlenbeck>
                                </Noise>
                            </Exploration-Noise>
                          </Deterministic-Policy-Gaussian-Noise>
                          </Policy>
                      </Policy>
                    </CACLA>
                    </Policy-Learner>
                </Output>
                <Output>
                  <Policy-Learner>
                    <CACLA>
                      <Alpha>
                        <Schedule>
                          <Simple-Linear-Decay>
                            <Initial-Value>0.0001</Initial-Value>
                            <End-Value>0.0</End-Value>
                          </Simple-Linear-Decay>
                          </Schedule>
                      </Alpha>
                      <Policy>
                        <Policy>
                          <Deterministic-Policy-Gaussian-Noise>
                            <Output-Action><Wire>wire-K_p</Wire></Output-Action>
                            <Deterministic-Policy-VFA>
                              <Init-Value>0.025</Init-Value>
                            </Deterministic-Policy-VFA>
                            <Exploration-Noise>
                              <Noise>
                                <Ornstein-Uhlenbeck>
                                  <Mu>0.0</Mu>
                                  <Sigma>1.0</Sigma>
                                  <Theta>0.1</Theta>
                                  <Scale>
                                    <Schedule>
                                      <Simple-Linear-Decay>
                                        <FORKED-NODE Name="Initial-Value" Alias="K_p-Noise-Init">
                                          <FORK-VALUE Name="Value-0">
                                          	<Initial-Value>0.05</Initial-Value>
                                          </FORK-VALUE>
                                          <FORK-VALUE Name="Value-1">
                                          	<Initial-Value>0.1</Initial-Value>
                                          </FORK-VALUE>
                                          <FORK-VALUE Name="Value-2">
                                          	<Initial-Value>0.25</Initial-Value>
                                          </FORK-VALUE>
                                          <FORK-VALUE Name="Value-3">
                                          	<Initial-Value>0.5</Initial-Value>
                                          </FORK-VALUE>
                                        </FORKED-NODE>
                                        <End-Value>0.0</End-Value>
                                      </Simple-Linear-Decay>
                                      </Schedule>
                                  </Scale>
                                </Ornstein-Uhlenbeck>
                                </Noise>
                            </Exploration-Noise>
                          </Deterministic-Policy-Gaussian-Noise>
                          </Policy>
                      </Policy>
                    </CACLA>
                    </Policy-Learner>
                </Output>
              </Actor>
              <Critic>
                <Critic>
                  <TD-Lambda>
                    <Alpha>
                      <Schedule>
                        <Simple-Linear-Decay>
                          <FORKED-NODE Name="Initial-Value" Alias="Critic-Alpha">
                            <FORK-VALUE Name="Value-0">
                            	<Initial-Value>0.01</Initial-Value>
                            </FORK-VALUE>
                            <FORK-VALUE Name="Value-1">
                            	<Initial-Value>0.001</Initial-Value>
                            </FORK-VALUE>
                            <FORK-VALUE Name="Value-2">
                            	<Initial-Value>0.0001</Initial-Value>
                            </FORK-VALUE>
                          </FORKED-NODE>
                          <End-Value>0.0</End-Value>
                        </Simple-Linear-Decay>
                        </Schedule>
                    </Alpha>
                    <V-Function>
                      <Init-Value>0.0</Init-Value>
                    </V-Function>
                  </TD-Lambda>
                  </Critic>
              </Critic>
            </Actor-Critic>
            </Type>
        </Simion>
        <Simion>
          <Type>
            <Controller>
              <Controller>
                <Vidal>
                  <A>
                    <Schedule>
                      <Wire-Connection>
                        <Wire>wire-A</Wire>
                      </Wire-Connection>
                      </Schedule>
                  </A>
                  <K_alpha>
                    <Schedule>
                      <Wire-Connection>
                        <Wire>wire-K_alpha</Wire>
                      </Wire-Connection>
                      </Schedule>
                  </K_alpha>
                  <KP>
                    <Schedule>
                      <Wire-Connection>
                        <Wire>wire-K_p</Wire>
                      </Wire-Connection>
                      </Schedule>
                  </KP>
                  <KI>
                    <Schedule>
                      <Constant>
                        <Value>0.0</Value>
                      </Constant>
                      </Schedule>
                  </KI>
                </Vidal>
                </Controller>
            </Controller>
            </Type>
        </Simion>
      </SimGod>
    </RLSimion>
    </RLSimion>
  </EXPERIMENT>
</BADGER-PROJECT>
