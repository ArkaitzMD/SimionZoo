<?xml version="1.0" encoding="utf-8"?>
<RLSimion>
  <WORLD>
    <DYNAMIC-MODEL>
      <Wind-turbine>
        <WORLD-DEFINITION>./config/world-wind-turbine.xml</WORLD-DEFINITION>
        <EVALUATION_WIND_DATA>../config/wind-turbine/setpoints/TurbSim-10.25.hh</EVALUATION_WIND_DATA>
        <TRAINING_WIND_DATA>
          <FILE>../config/wind-turbine/setpoints/TurbSim-11.hh</FILE>
          <FILE>../config/wind-turbine/setpoints/TurbSim-10.hh</FILE>
        </TRAINING_WIND_DATA>
        <POWER_SET_POINT>../config/wind-turbine/setpoints/windturbine-power-setpoint.txt</POWER_SET_POINT>
      </Wind-turbine>
    </DYNAMIC-MODEL>
    <Delta-T>0.01</Delta-T>
    <Num-Simulation-Steps>4</Num-Simulation-Steps>
    <REWARD>
      <Min>-100</Min>
      <Max>1.0</Max>
      <Reward-components>
        <Deviation-Component>
          <Weight>1.0</Weight>
          <Tolerance>10</Tolerance>
          <Variable>E_p</Variable>
        </Deviation-Component>
        <Deviation-Component>
          <Weight>1.0</Weight>
          <Tolerance>0.01</Tolerance>
          <Variable>E_omega_r</Variable>
        </Deviation-Component>
      </Reward-components>
    </REWARD>
  </WORLD>
  <EXPERIMENT>
    <Num-Episodes>1</Num-Episodes>
    <Episode-Length>360</Episode-Length>
    <Random-Seed>1</Random-Seed>
    <Eval-Freq>20</Eval-Freq>
    <LOG>
      <Freq>0.25</Freq>
      <Ouput-directory>test-dir</Ouput-directory>
      <Prefix>prefix</Prefix>
      <Log-eval-episodes>true</Log-eval-episodes>
      <Log-training-episodes>false</Log-training-episodes>
      <Log-eval-avg-rewards>true</Log-eval-avg-rewards>
    </LOG>
  </EXPERIMENT>
  <SIMGOD>
    <ACTOR>
      <VFA-Learner>
        <LOAD>../data/policy.bin</LOAD>
        <OUTPUTS>
          <CACLA>
            <VFA-Policy>
              <Output-Action>d_T_g</Output-Action>
              <Linear-VFA>
                <RBF-Grid>
                  <RBF-Grid-Dimension>
                    <Variable>omega_r</Variable>
                    <Min>0.2</Min>
                    <Max>0.7</Max>
                    <Num-Features>70</Num-Features>
                    <Distribution>linear</Distribution>
                  </RBF-Grid-Dimension>
                  <RBF-Grid-Dimension>
                    <Variable>T_g</Variable>
                    <Num-Features>80</Num-Features>
                    <Distribution>linear</Distribution>
                  </RBF-Grid-Dimension>
                </RBF-Grid>
              </Linear-VFA>
              <Exploration-Noise>
                <Sigma>10</Sigma>
              </Exploration-Noise>
            </VFA-Policy>
            <Alpha>
              <Interpolation>linear</Interpolation>
              <Initial-Value>0.001</Initial-Value>
              <End-Value>0.0001</End-Value>
              <Evaluation-Value>0.0</Evaluation-Value>
            </Alpha>
            <E-Traces>
              <Replace>true</Replace>
              <Lambda>0.9</Lambda>
              <Threshold>0.001</Threshold>
            </E-Traces>
          </CACLA>
          <CACLA>
            <VFA-Policy>
              <Output-Action>d_beta</Output-Action>
              <Linear-VFA>
                <RBF-Grid>
                  <RBF-Grid-Dimension>
                    <Variable>omega_r</Variable>
                    <Num-Features>10</Num-Features>
                    <Distribution>linear</Distribution>
                  </RBF-Grid-Dimension>
                </RBF-Grid>
              </Linear-VFA>
              <Exploration-Noise>
                <Sigma>0.0001</Sigma>
              </Exploration-Noise>
            </VFA-Policy>
            <Alpha>0.1</Alpha>
          </CACLA>
        </OUTPUTS>
      </VFA-Learner>
    </ACTOR>
    <CRITIC>
      <TD-Lambda>
        <LOAD>./data/value.bin</LOAD>
        <V-FUNCTION>
          <Linear-VFA>
            <RBF-Grid>
              <RBF-Grid-Dimension>
                <Variable>d_omega_r</Variable>
                <Num-Features>80</Num-Features>
                <Distribution>linear</Distribution>
              </RBF-Grid-Dimension>
              <RBF-Grid-Dimension>
                <Variable>omega_r</Variable>
                <Num-Features>80</Num-Features>
                <Distribution>linear</Distribution>
              </RBF-Grid-Dimension>
            </RBF-Grid>
          </Linear-VFA>
              
         </V-FUNCTION>
        <E-Traces>
          <USE>true</USE>
          <Replace>false</Replace>
          <Lambda>0.9</Lambda>
          <Threshold>0.001</Threshold>
        </E-Traces>
        <GAMMA>0.9</GAMMA>
        <Alpha>
          <Interpolation>linear</Interpolation>
          <Initial-Value>0.01</Initial-Value>
          <End-Value>0.001</End-Value>
          <Evaluation-Value>0.0</Evaluation-Value>
        </Alpha>
      </TD-Lambda>
    </CRITIC>
  </SIMGOD>
</RLSimion>