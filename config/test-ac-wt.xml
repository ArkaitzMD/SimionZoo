<?xml version="1.0" encoding="utf-8"?>
<RLSimion>
  <WORLD>
    <Wind-turbine>
      <EVALUATION_WIND_DATA_FILE>../config/wind-turbine/setpoints/TurbSim-10.25.hh</EVALUATION_WIND_DATA_FILE>
      <TRAINING_WIND_DATA_FILE>../config/wind-turbine/setpoints/TurbSim-11.hh</TRAINING_WIND_DATA_FILE>
      <TRAINING_WIND_DATA_FILE>../config/wind-turbine/setpoints/TurbSim-10.hh</TRAINING_WIND_DATA_FILE>
      <POWER_SET_POINT_FILE>../config/wind-turbine/setpoints/windturbine-power-setpoint.txt</POWER_SET_POINT_FILE>
    </Wind-turbine>
    <DELTA_T>0.01</DELTA_T>
    <NUM_SIMULATION_STEPS>4</NUM_SIMULATION_STEPS>
    <REWARD>
      <MIN_REWARD>-100</MIN_REWARD>
      <MAX_REWARD>1.0</MAX_REWARD>
      <reward-component>
        <COMPONENT_WEIGHT>1.0</COMPONENT_WEIGHT>
        <COMPONENT_TOLERANCE>10</COMPONENT_TOLERANCE>
        <CONTROL_ERROR_VARIABLE>E_p</CONTROL_ERROR_VARIABLE>
      </reward-component>
    </REWARD>

  </WORLD>
  <EXPERIMENT>
    <NUM_EPISODES>1</NUM_EPISODES>
    <EPISODE_LENGTH>1000</EPISODE_LENGTH>
    <RANDOM_SEED>1</RANDOM_SEED>
    <EVAL_FREQ>20</EVAL_FREQ>
    <LOG>
      <FREQ>0.25</FREQ>
      <OUTPUT_DIR>test-dir</OUTPUT_DIR>
      <FILE_PREFIX>prefix</FILE_PREFIX>
      <EVALUATION_EPISODES>true</EVALUATION_EPISODES>
      <TRAINING_EPISODES>false</TRAINING_EPISODES>
      <EVALUATION_AVG_REWARDS>true</EVALUATION_AVG_REWARDS>
    </LOG>
  </EXPERIMENT>
  <SIMGOD>
    <Actor-Critic>
      <Separate-Actor-and-Critic>
        <ACTOR>
          <VFA-Actor>
            <LOAD>../data/policy.bin</LOAD>
            <Single-Output-VFA-Policy-Learner>
              <CACLA>
                <POLICY>
                  <ACTION>d_T_g</ACTION>
                  <VFA-POLICY>
                    <VFA>
                      <state-grid-dimension>
                        <VARIABLE_NAME>omega_r</VARIABLE_NAME>
                        <NUM_FEATURES>70</NUM_FEATURES>
                        <DISTRIBUTION>linear</DISTRIBUTION>
                      </state-grid-dimension>
                      <state-grid-dimension>
                        <VARIABLE_NAME>T_g</VARIABLE_NAME>
                        <NUM_FEATURES>80</NUM_FEATURES>
                        <DISTRIBUTION>linear</DISTRIBUTION>
                      </state-grid-dimension>
                    </VFA>
                    <EXPLORATION_NOISE>
                      <SIGMA>
                        <decimal>10</decimal>
                      </SIGMA>
                    </EXPLORATION_NOISE>
                  </VFA-POLICY>
                  </POLICY>
                <ALPHA>
                  <schedule>
                    <INTERPOLATION>linear</INTERPOLATION>
                    <INITIAL_VALUE>0.001</INITIAL_VALUE>
                    <FINAL_VALUE>0.0001</FINAL_VALUE>
                    <EVALUATION_EPISODE_VALUE>0.0</EVALUATION_EPISODE_VALUE>
                  </schedule>
                </ALPHA>
                <ETRACES>
                  <USE>false</USE>
                  <REPLACE>true</REPLACE>
                  <LAMBDA>0.9</LAMBDA>
                  <THRESHOLD>0.001</THRESHOLD>
                </ETRACES>
              </CACLA>
            </Single-Output-VFA-Policy-Learner>
            <Single-Output-VFA-Policy-Learner>
              <CACLA>

                <POLICY>
                  <ACTION>d_beta</ACTION>
                  <VFA-POLICY>
                    <VFA>
                      <state-grid-dimension>
                        <VARIABLE_NAME>omega_r</VARIABLE_NAME>
                        <NUM_FEATURES>10</NUM_FEATURES>
                        <DISTRIBUTION>linear</DISTRIBUTION>
                      </state-grid-dimension>
                    </VFA>
                    <EXPLORATION_NOISE>
                      <SIGMA>
                        <decimal>0.0001</decimal>
                      </SIGMA>
                    </EXPLORATION_NOISE>
                  </VFA-POLICY>
                </POLICY>
                <ALPHA>
                  <decimal>0.1</decimal>
                </ALPHA>
                <ETRACES>
                  <USE>false</USE>
                  <REPLACE>true</REPLACE>
                  <LAMBDA>0.9</LAMBDA>
                  <THRESHOLD>0.001</THRESHOLD>
                </ETRACES>
              </CACLA>
            </Single-Output-VFA-Policy-Learner>
          </VFA-Actor>
        </ACTOR>
        <CRITIC>
          <LOAD>./data/value.bin</LOAD>
          <TD-Lambda>
            <VFA>
              <RBF_GRID>
                <state-grid-dimension>
                  <VARIABLE_NAME>d_omega_r</VARIABLE_NAME>
                  <NUM_FEATURES>80</NUM_FEATURES>
                  <DISTRIBUTION>linear</DISTRIBUTION>
                </state-grid-dimension>
                <state-grid-dimension>
                  <VARIABLE_NAME>omega_r</VARIABLE_NAME>
                  <NUM_FEATURES>80</NUM_FEATURES>
                  <DISTRIBUTION>linear</DISTRIBUTION>
                </state-grid-dimension>
              </RBF_GRID>
            </VFA>
            <ETRACES>
              <USE>true</USE>
              <REPLACE>false</REPLACE>
              <LAMBDA>0.9</LAMBDA>
              <THRESHOLD>0.001</THRESHOLD>
            </ETRACES>
            <GAMMA>
              <decimal>0.9</decimal>
            </GAMMA>
            <ALPHA>
              <schedule>
                <INTERPOLATION>linear</INTERPOLATION>
                <INITIAL_VALUE>0.01</INITIAL_VALUE>
                <FINAL_VALUE>0.001</FINAL_VALUE>
                <EVALUATION_EPISODE_VALUE>0.0</EVALUATION_EPISODE_VALUE>
              </schedule>
            </ALPHA>
          </TD-Lambda>
        </CRITIC>
      </Separate-Actor-and-Critic>
    </Actor-Critic>
  </SIMGOD>
</RLSimion>