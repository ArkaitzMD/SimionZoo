<?xml version="1.0" encoding="utf-8"?>
<Controller-To-VFA-Policy>
  <World>
    <Dynamic-Model>
      <Wind-turbine>
        <World-Definition>..\config\world\wind-turbine.xml</World-Definition>
        <Evaluation-Wind-Data>..\config\world\wind-turbine\TurbSim-10.25.hh</Evaluation-Wind-Data>
        <Training-Wind-Data>
          <File>..\config\world\wind-turbine\TurbSim-10.25.hh</File>
          <!--<FILE>..\config\world\wind-turbine\TurbSim-9.hh</FILE>
          <FILE>..\config\world\wind-turbine\TurbSim-9.5.hh</FILE>
          <FILE>..\config\world\wind-turbine\TurbSim-10.hh</FILE>
          <FILE>..\config\world\wind-turbine\TurbSim-10.5.hh</FILE>
          <FILE>..\config\world\wind-turbine\TurbSim-11.hh</FILE>
          <FILE>..\config\world\wind-turbine\TurbSim-11.5.hh</FILE>
          <FILE>..\config\world\wind-turbine\TurbSim-12.hh</FILE>-->          
        </Training-Wind-Data>
        <Power-Set-Point>..\config\world\wind-turbine\windturbine-power-setpoint.txt</Power-Set-Point>
      </Wind-turbine>
    </Dynamic-Model>
    <Delta-T>0.01</Delta-T>
    <Num-Integration-Steps>4</Num-Integration-Steps>
    <Reward>
      <Min>-100</Min>
      <Max>1.0</Max>
      <Reward-components>
        <Deviation-Component>
          <Weight>1.0</Weight>
          <Tolerance>10</Tolerance>
          <Variable>E_p</Variable>
        </Deviation-Component>
        <Deviation-Component>
          <Weight>1.0</Weight>
          <Tolerance>0.02</Tolerance>
          <Variable>E_omega_r</Variable>
        </Deviation-Component>
        <Deviation-Component>
          <Weight>1.0</Weight>
          <Tolerance>12000</Tolerance>
          <Variable>d_T_g</Variable>
        </Deviation-Component>
        <Deviation-Component>
          <Weight>1.0</Weight>
          <Tolerance>0.1745</Tolerance>
          <Variable>d_beta</Variable>
        </Deviation-Component>
      </Reward-components>
    </Reward>
  </World>
  <!--<Experiment>
    <Num-Episodes>1000</Num-Episodes>
    <Episode-Length>360</Episode-Length>
    <Random-Seed>1</Random-Seed>
    <Eval-Freq>50</Eval-Freq>
    <Log>
      <Log-Freq>0.25</Log-Freq>
      <Ouput-directory>wind-turbine-2</Ouput-directory>
      <Prefix>wt-learn-vidal</Prefix>
      <Log-eval-episodes>true</Log-eval-episodes>
      <Log-training-episodes>false</Log-training-episodes>
      <Log-eval-experiment>true</Log-eval-experiment>
    </Log>
  </Experiment>-->
  
  <Controller>
    <Multi-Controller>
      <Vidal>
        <A>1.0</A>
        <K_alpha>6000.0</K_alpha>
        <KP>1.0</KP>
        <KI>0.0</KI>
        <P_s>600000.0</P_s>
      </Vidal>
    </Multi-Controller>
  </Controller>
  
  <Multi-Output-VFA>
    <Single-Output-VFA>
      <Output-Action>d_beta</Output-Action>
      <Linear-VFA>
        <RBF-Grid>
          <RBF-Grid-Dimension>
            <Variable>omega_r</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>cubic</Distribution>
          </RBF-Grid-Dimension>
          <RBF-Grid-Dimension>
            <Variable>d_omega_r</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>cubic</Distribution>
          </RBF-Grid-Dimension>
          <RBF-Grid-Dimension>
            <Variable>T_g</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>linear</Distribution>
          </RBF-Grid-Dimension>
          <RBF-Grid-Dimension>
            <Variable>E_p</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>cubic</Distribution>
          </RBF-Grid-Dimension>
        </RBF-Grid>
      </Linear-VFA>
    </Single-Output-VFA>
    <Single-Output-VFA>
      <Output-Action>d_T_g</Output-Action>
      <Linear-VFA>
        <RBF-Grid>
          <RBF-Grid-Dimension>
            <Variable>omega_r</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>cubic</Distribution>
          </RBF-Grid-Dimension>
          <RBF-Grid-Dimension>
            <Variable>d_omega_r</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>cubic</Distribution>
          </RBF-Grid-Dimension>
          <RBF-Grid-Dimension>
            <Variable>T_g</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>linear</Distribution>
          </RBF-Grid-Dimension>
          <RBF-Grid-Dimension>
            <Variable>E_p</Variable>
            <Num-Features>80</Num-Features>
            <Distribution>cubic</Distribution>
          </RBF-Grid-Dimension>
        </RBF-Grid>
      </Linear-VFA>
    </Single-Output-VFA>
  </Multi-Output-VFA>
  
  <Output-File>../data/vidal-80.bin</Output-File>
</Controller-To-VFA-Policy>